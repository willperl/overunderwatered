---
title: 1. Single file
layout: page
---

<script type="module">
  import { client } from "https://cdn.jsdelivr.net/npm/@gradio/client@1.9.0/+esm";

  async function predictBase64(base64Image) {
    const app = await client("smittens/overorunderwatered");
    const base64Only = base64Image.split(',')[1]; 

    try {
      const result = await app.predict({
        data: [base64Only],
        fn_index: 0
      });

      const label = result.data[0].confidences[0].label;
      const conf = result.data[0].confidences[0].confidence;

      document.getElementById("results").innerHTML = `
        <img src="${base64Image}" width="300" />
        <p><strong>Prediction:</strong> ${label}</p>
        <p><strong>Confidence:</strong> ${conf.toFixed(2)}</p>
      `;
    } catch (err) {
      console.error('Prediction error:', err);
      document.getElementById("results").textContent = `Error: ${err.message || err}`;
    }
  }

  document.getElementById("photo").addEventListener("change", (e) => {
    const file = e.target.files[0];
    const reader = new FileReader();
    reader.onload = () => {
      predictBase64(reader.result);
    };
    reader.readAsDataURL(file);
  });
</script>

<input id="photo" type="file" />
<div id="results"></div>