---
title: 1. Single file
layout: page
---

<h2>Upload a photo</h2>
<input id="photo" type="file" accept="image/*">
<div id="results"></div>

<script type="module">
	import { client } from "https://gradio.s3-us-west-2.amazonaws.com/5.0.0/gradio.js";

	const app = await client("smittens/overorunderwatered"); // Your space

	const photoInput = document.getElementById("photo");
	const resultsDiv = document.getElementById("results");

	photoInput.addEventListener("change", async () => {
		const file = photoInput.files[0];
		if (!file) return;

		const reader = new FileReader();
		reader.onload = async () => {
			const base64Image = reader.result;

			try {
				const result = await app.predict("/gradio_api/queue/join", {
					img: base64Image
				});

				// Adjust this to match your model's return structure
				const label = result.data?.[0]?.label ?? "Unknown";
				const conf = result.data?.[0]?.confidence ?? "N/A";

				resultsDiv.innerHTML = `
					<img src="${base64Image}" width="300"><br>
					<b>Prediction:</b> ${label}<br>
					<b>Confidence:</b> ${conf}
				`;
			} catch (e) {
				console.error("Prediction error:", e);
				resultsDiv.textContent = "Error: " + e.message;
			}
		};

		reader.readAsDataURL(file);
	});
</script>