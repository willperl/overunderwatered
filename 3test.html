---
title: 3. Tester
layout: page
---

<script>
async function callGradioAPI() {
	const imagePayload = {
		data: [
			{
				path: "https://raw.githubusercontent.com/gradio-app/gradio/main/test/test_files/bus.png",
				meta: {
					_type: "gradio.FileData"
				}
			}
		]
	};

	// Step 1: Send the request
	const response = await fetch("https://smittens-overorunderwatered.hf.space/gradio_api/call/predict", {
		method: "POST",
		headers: {
			"Content-Type": "application/json"
		},
		body: JSON.stringify(imagePayload)
	});

	const result = await response.json();
	const eventId = result.event_id;

	if (!eventId) {
		console.error("No event ID returned.");
		return;
	}

	console.log("Event ID:", eventId);

	// Step 2: Poll result after short delay
	const resultResponse = await fetch(`https://smittens-overorunderwatered.hf.space/gradio_api/call/predict/${eventId}`);
	const text = await resultResponse.text();

	console.log("Raw Response:", text);

	try {
		const parsed = JSON.parse(text);
		console.log("Prediction result:", parsed);
	} catch (e) {
		console.error("Could not parse JSON:", e);
	}
}

callGradioAPI();
</script>
